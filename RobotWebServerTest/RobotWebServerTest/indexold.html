<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8" />
    <title>Robot Contol Panel</title>

    <script>
        function updateSlider(type, slideAmount) {
            var sliderDiv = document.getElementById(type + "Amount");
            sliderDiv.innerHTML = slideAmount;
        }

        function sendSlider(type, slideAmount) {
            sendRequest("value/" + type + "/" + slideAmount);
        }
        
        function setSlider(slider, value){
            document.getElementById("slider" + slider).value = value;
            document.getElementById("slider" + slider).value = value;
        }

//        var initialValue = -1;

//        function setDefaultValue() {
//            initialValue = document.getElementById("initValue").value;
//            emergencyStop();
//        }

        function emergencyStop() {
//            setSlider('f', initialValue);
//            setSlider('l', initialValue);
//            sendSlider('f', initialValue);
//            sendSlider('l', initialValue);
            sendRequest("stop");
        }

        function sendRequest(what) {
            var http = new XMLHttpRequest();
            http.open('POST', "http://%IP%:%PORT%/" + what, true);
            http.send();
        }
    </script>

</head>

<body>


    Forward/Backward Amount:
    <div id="fAmount">0</div>

    <input id="sliderf" type="range" min="0" max="255" step="1" value="0" oninput="updateSlider('f', this.value)" onchange="sendSlider('f', this.value)">

    <br><br><br> Left/Right Amount:
    <div id="lAmount">0</div>

    <input id="sliderl" type="range" min="0" max="255" step="1" value="0" oninput="updateSlider('l', this.value)" onchange="sendSlider('l', this.value)">

<!--
    <br><br><br> Initial Value: <input type="number" name="initValue" id="initValue" onfocus="this.value=''">
    <input type="button" value="Submit" onclick="setDefaultValue()">
-->

    <br><br><br>

    <input type="button" value="EMERGENCY STOP" onclick="emergencyStop()">

</body>

</html>
